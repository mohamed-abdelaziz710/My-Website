document.addEventListener('DOMContentLoaded',function(){initAnimations();initChat();initMobileMenu();initLanguageToggle();initParticles()});function initAnimations(){const e=document.querySelectorAll('.card');e.forEach(t=>{t.classList.add('animate')});const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add('animate')})},{threshold:.1});e.forEach(e=>{t.observe(e)})}function initChat(){const e=document.getElementById('chatBubble'),t=document.getElementById('chatWindow'),n=document.getElementById('closeChat'),i=document.getElementById('messageInput'),a=document.getElementById('sendMessage'),o=document.getElementById('chatMessages');e.addEventListener('click',function(){t.style.display='flex',e.style.display='none',o.scrollTop=o.scrollHeight}),n.addEventListener('click',function(){t.style.display='none',e.style.display='flex'});function s(){const e=i.value.trim();if(''!==e){!function(e,t){const n=document.createElement('div');n.className=`message ${t}-message`;const i=document.createElement('div');i.className='message-content',i.textContent=e;const a=document.createElement('div');a.className='message-time',a.textContent='Just now',n.appendChild(i),n.appendChild(a),o.appendChild(n),o.scrollTop=o.scrollHeight}(e,'user'),i.value='';const t=document.body.classList.contains('rtl'),n=document.createElement('div');n.className='message bot-message typing-indicator',n.innerHTML='<div class="message-content"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>',o.appendChild(n),o.scrollTop=o.scrollHeight,fetch('https://0e45fe78-86ad-4c8f-b665-f561edd3e592-00-ezbtmwl50c4e.riker.replit.dev:5000/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:e})}).then(e=>{if(!e.ok)throw new Error('Network response was not ok');return e.json()}).then(e=>{o.removeChild(n);let i='';e&&e.candidates&&e.candidates[0]&&e.candidates[0].content&&e.candidates[0].content.parts&&e.candidates[0].content.parts[0]?i=e.candidates[0].content.parts[0].text:i=(t?['عذراً، حدث خطأ في الاتصال. يمكنك التواصل معي عبر وسائل التواصل الاجتماعي المذكورة في قسم الاتصال.','أواجه بعض المشاكل التقنية حالياً. سأكون متاحاً قريباً! 🔧']:['Sorry, there was a connection error. You can reach me through the social media platforms listed in the contact section.','I\'m experiencing some technical issues at the moment. I\'ll be back soon! 🔧'])[Math.floor(Math.random()*2)],function(e,t){const n=document.createElement('div');n.className=`message ${t}-message`;const i=document.createElement('div');i.className='message-content',i.textContent=e;const a=document.createElement('div');a.className='message-time',a.textContent='Just now',n.appendChild(i),n.appendChild(a),o.appendChild(n),o.scrollTop=o.scrollHeight}(i,'bot')}).catch(e=>{console.error('Error connecting to backend:',e),n.parentNode===o&&o.removeChild(n);const i=(t?['عذراً، يبدو أن هناك مشكلة في الاتصال بالخادم. يمكنك التواصل معي مباشرة عبر وسائل التواصل الاجتماعي. 🔌','لا يمكنني الوصول إلى الخادم حالياً. هل يمكنك المحاولة مرة أخرى لاحقاً؟ 🛠️']:['Sorry, there seems to be an issue connecting to the server. You can reach me directly through social media. 🔌','I can\'t reach the server right now. Could you try again later? 🛠️'])[Math.floor(Math.random()*2)];function e(e,t){const n=document.createElement('div');n.className=`message ${t}-message`;const i=document.createElement('div');i.className='message-content',i.textContent=e;const a=document.createElement('div');a.className='message-time',a.textContent='Just now',n.appendChild(i),n.appendChild(a),o.appendChild(n),o.scrollTop=o.scrollHeight}e(i,'bot')})}}a.addEventListener('click',s),i.addEventListener('keypress',function(e){'Enter'===e.key&&s()})}function initMobileMenu(){const e=document.createElement('button');e.className='menu-btn',e.innerHTML='<i class="fas fa-bars"></i>',e.setAttribute('aria-label','Toggle navigation menu'),e.setAttribute('aria-expanded','false');const t=document.querySelector('nav'),n=document.querySelector('.nav-links');t.insertBefore(e,n),e.addEventListener('click',function(){const t=n.classList.contains('active');n.classList.toggle('active'),e.setAttribute('aria-expanded',!t),e.innerHTML=t?'<i class="fas fa-bars"></i>':'<i class="fas fa-times"></i>',document.body.style.overflow=t?'':'hidden'}),document.addEventListener('click',function(t){!t.target.closest('nav')&&n.classList.contains('active')&&(n.classList.remove('active'),e.innerHTML='<i class="fas fa-bars"></i>',e.setAttribute('aria-expanded','false'),document.body.style.overflow='')});const i=n.querySelectorAll('a');i.forEach(t=>{t.addEventListener('click',function(){n.classList.remove('active'),e.innerHTML='<i class="fas fa-bars"></i>',e.setAttribute('aria-expanded','false'),document.body.style.overflow='';const t=this.getAttribute('href').substring(1),i=document.getElementById(t);i&&i.scrollIntoView({behavior:'smooth'})})}),document.addEventListener('keydown',function(t){'Escape'===t.key&&n.classList.contains('active')&&(n.classList.remove('active'),e.innerHTML='<i class="fas fa-bars"></i>',e.setAttribute('aria-expanded','false'),document.body.style.overflow='')})}function initLanguageToggle(){const e=document.createElement('div');e.className='language-toggle',e.innerHTML='<span class="lang-label">EN</span><label><input type="checkbox" id="languageSwitch"><span class="slider"></span></label><span class="lang-label">AR</span>';const t=document.querySelector('nav');t.appendChild(e);const n=document.getElementById('languageSwitch'),i=localStorage.getItem('language');'ar'===i&&(document.body.classList.add('rtl'),n.checked=!0,updateLanguageContent('ar')),n.addEventListener('change',function(){this.checked?(document.body.classList.add('rtl'),localStorage.setItem('language','ar'),updateLanguageContent('ar')):(document.body.classList.remove('rtl'),localStorage.setItem('language','en'),updateLanguageContent('en'))})}function updateLanguageContent(e){const t={en:{'nav-about':'About','nav-skills':'Skills','nav-projects':'Projects','nav-contact':'Contact','hero-title':'Mohamed Abdelaziz','hero-subtitle':'Cybersecurity Engineer & AI Innovator','hero-description':'Securing the digital frontier with innovative AI solutions','hero-btn':'Contact Me','profile-title':'Mohamed Abdelaziz','profile-subtitle-1':'Cybersecurity Engineer','profile-subtitle-2':'AI Innovator','tagline':'Cybersecurity Strategist. AI Innovator. Driven by Vision.','about-p1':'Egyptian American, 26 years old, specializing in Cybersecurity and Artificial Intelligence. Currently living in Cairo, Egypt. Will graduate in May 2026 as a Cybersecurity Engineer, looking forward to contributing to the development of innovative security solutions using AI technologies.','about-p2':'Currently writing a book called "CodeX" about quantum computing and AI integration and cryptocurrency.','badge-1':'Cybersecurity Engineer','badge-2':'AI Tools Builder','badge-3':'KSU \'26 – Cybersecurity Student','badge-4':'Multilingual: AR / EN','badge-5':'Replit Dev','badge-6':'Based in Cairo – Global Reach','skills-title':'Skills','certifications-title':'Certifications','experience-title':'Work Experience','education-title':'Education','projects-title':'Projects','contact-title':'Contact','chat-header':'Chat with Mohamed','chat-msg1':'Hello, I\'m Muhammad. Welcome to my personal site!','chat-msg2':'Feel free to ask me anything about cybersecurity, AI, or my journey. ✏️','chat-input':'Type your message...','footer-name':'© 2025 Mohamed Abdelaziz','footer-role':'Cybersecurity Engineer & AI Innovator','footer-signature':'Amrikyy'},ar:{'nav-about':'نبذة عني','nav-skills':'المهارات','nav-projects':'المشاريع','nav-contact':'اتصل بي','hero-title':'محمد عبد العزيز','hero-subtitle':'مهندس أمن سيبراني ومبتكر ذكاء اصطناعي','hero-description':'تأمين الحدود الرقمية بحلول ذكاء اصطناعي مبتكرة','hero-btn':'اتصل بي','profile-title':'محمد عبد العزيز','profile-subtitle-1':'مهندس أمن سيبراني','profile-subtitle-2':'مبتكر ذكاء اصطناعي','tagline':'استراتيجي أمن سيبراني. مبتكر ذكاء اصطناعي. مدفوع بالرؤية.','about-p1':'مصري أمريكي، 26 عامًا، متخصص في الأمن السيبراني والذكاء الاصطناعي. أعيش حاليًا في القاهرة، مصر. سأتخرج في مايو 2026 كمهندس أمن سيبراني، وأتطلع إلى المساهمة في تطوير حلول أمنية مبتكرة باستخدام تقنيات الذكاء الاصطناعي.','about-p2':'أعمل حاليًا على كتابة كتاب يسمى "CodeX" حول الحوسبة الكمومية ودمج الذكاء الاصطناعي والعملات المشفرة.','badge-1':'مهندس أمن سيبراني','badge-2':'مطور أدوات ذكاء اصطناعي','badge-3':'طالب أمن سيبراني - KSU \'26','badge-4':'متعدد اللغات: عربي / إنجليزي','badge-5':'مطور Replit','badge-6':'مقيم في القاهرة - تواصل عالمي','skills-title':'المهارات','certifications-title':'الشهادات','experience-title':'الخبرة العملية','education-title':'التعليم','projects-title':'المشاريع','contact-title':'اتصل بي','chat-header':'دردش مع محمد','chat-msg1':'مرحبًا، أنا محمد. أهلاً بك في موقعي الشخصي!','chat-msg2':'لا تتردد في سؤالي عن أي شيء يتعلق بالأمن السيبراني، الذكاء الاصطناعي، أو مسيرتي المهنية. ✏️','chat-input':'اكتب رسالتك...','footer-name':'© 2025 محمد عبد العزيز','footer-role':'مهندس أمن سيبراني ومبتكر ذكاء اصطناعي','footer-signature':'Amrikyy'}};document.querySelectorAll('[data-translate]').forEach(n=>{const i=n.getAttribute('data-translate');t[e]&&t[e][i]&&(n.textContent=t[e][i])});const n=document.getElementById('messageInput');n&&(n.placeholder=t[e]['chat-input'])}function initParticles(){particlesJS('particles-js',{particles:{number:{value:80,density:{enable:!0,value_area:800}},color:{value:'#39ff14'},shape:{type:'circle',stroke:{width:0,color:'#000000'},polygon:{nb_sides:5}},opacity:{value:.5,random:!1,anim:{enable:!1,speed:1,opacity_min:.1,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:40,size_min:.1,sync:!1}},line_linked:{enable:!0,distance:150,color:'#39ff14',opacity:.4,width:1},move:{enable:!0,speed:6,direction:'none',random:!1,straight:!1,out_mode:'out',bounce:!1,attract:{enable:!1,rotateX:600,rotateY:1200}}},interactivity:{detect_on:'canvas',events:{onhover:{enable:!0,mode:'repulse'},onclick:{enable:!0,mode:'push'},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:400,size:40,duration:2,opacity:8,speed:3},repulse:{distance:200,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0})}
